{
  "name": "Standalone_us_address_lookup_Workflow",
  "description": "Workflow to run us_address_lookup service on canonical records",
  "version": 1,
  "inputParameters": [
    "canonical_records",
    "jobId",
    "column_map"
  ], 
  "tasks": [
    {
      "name": "us_address_lookup_task",
      "taskReferenceName": "us_address_lookup",
      "type": "HTTP",
      "startDelay": 0,
      "retryCount": 3,
      "retryDelaySeconds": 2,
      "timeoutSeconds": 600,
      "connectionTimeout": 60000,
      "readTimeout": 600000,
      "inputParameters": {
        "http_request": {
          "uri": "http://us-address-lookup-realtime:9000/process",
          "method": "POST",
          "connectionTimeOut": 3000,
          "readTimeOut": 10000,
          "body": {
            "header": {
              "tags": ["API","nua","da","dps","wb","analysis","ODBx","compilation","da-dps-reader-lambda","tech-showcase"],
              "jobId": "${workflow.input.jobId}",
              "systemId": "workbench"
            },
            "request": "${workflow.input.canonical_records}"
          },
          "headers": {
            "Content-Type": "application/json"
          }
        }
      }
    }
  ],
  "outputParameters": {
    "final_canonical_records": "${us_address_lookup.output.response.body.canonical_records}"
  },
  "schemaVersion": 2
}
